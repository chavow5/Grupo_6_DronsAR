<%- include('../partials/head') %>

<style>
    .input-group {
    margin-bottom: 15px;
}

.input-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.input-group input {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

    .input-group {
        margin-bottom: 15px;
    }

    .input-group label {
        display: block;
        margin-bottom: 5px;
        font-weight: bold;
    }

    .input-group input {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
    }

    .error-message {
        color: red;
        font-size: 0.9em;
        margin-top: 5px;
    }


</style>

<body>
    <div class="container">
        <div class="login-box">
            <div class="logo-login">
                <img src="/img/DRONSAR_PROP-10.svg" class="login-image" alt="Logo">
            </div>
            <h1>Bienvenido</h1>
            <p>¿Ya tienes una cuenta? <a href="/login">Inicia sesión</a></p>
            <form action="/users/register" method="POST" enctype="multipart/form-data" onsubmit="return validateForm()">
                <div class="input-group">
                    <label for="nombres">Nombres:</label>
                    <input type="text" id="nombres" name="nombres" placeholder="Nombres" required autocomplete="off">
                    <div class="error-message" id="error-nombres"></div>
                </div>
                <div class="input-group">
                    <label for="apellidos">Apellidos:</label>
                    <input type="text" id="apellidos" name="apellidos" placeholder="Apellidos" required autocomplete="off">
                    <div class="error-message" id="error-apellidos"></div>
                </div>
                <div class="input-group">
                    <label for="email">Correo electrónico:</label>
                    <input type="email" id="email" name="email" placeholder="Email" required autocomplete="off">
                    <div class="error-message" id="error-email"></div>
                </div>
                <div class="input-group">
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" name="password" placeholder="Password" required>
                    <p>La contraseña debe tener al menos 8 caracteres</p>
                    <div class="error-message" id="error-password"></div>
                </div>
                <div class="input-group">
                    <label for="confirm-password">Confirmar Contraseña:</label>
                    <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirmar Contraseña" required autocomplete="off">
                    <div class="error-message" id="error-confirm-password"></div>
                </div>
                <div class="input-group">
                    <label for="profileImage">Imagen de perfil:</label>
                    <input type="file" id="profileImage" name="profileImage" accept="image/*">
                </div>
                <div class="checkbox">
                    <input type="checkbox" id="remember-me" name="remember-me">
                    <label for="remember-me">Guardar contraseña</label>
                </div>
                <button type="submit">Registrarse</button>
            </form>
        </div>
    </div>

    <script>
        function validateForm() {
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirm-password').value;

            if (password !== confirmPassword) {
                alert('Las contraseñas no coinciden');
                return false;
            }
            return true;
        }
    </script>

<script>
    function validateForm() {
        let isValid = true;

        // Limpiar los mensajes de error previos
        document.getElementById('error-nombres').innerText = '';
        document.getElementById('error-apellidos').innerText = '';
        document.getElementById('error-email').innerText = '';
        document.getElementById('error-password').innerText = '';
        document.getElementById('error-confirm-password').innerText = '';

        // Obtener los valores de los campos
        const nombres = document.getElementById('nombres').value.trim();
        const apellidos = document.getElementById('apellidos').value.trim();
        const email = document.getElementById('email').value.trim();
        const password = document.getElementById('password').value.trim();
        const confirmPassword = document.getElementById('confirm-password').value.trim();

        // Validar nombres
        if (!nombres) {
            document.getElementById('error-nombres').innerText = 'El campo nombres es obligatorio.';
            isValid = false;
        }

        // Validar apellidos
        if (!apellidos) {
            document.getElementById('error-apellidos').innerText = 'El campo apellidos es obligatorio.';
            isValid = false;
        }

        // Validar email
        const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailPattern.test(email)) {
            document.getElementById('error-email').innerText = 'Por favor, ingresa un correo electrónico válido.';
            isValid = false;
        }

        // Validar contraseña
        if (password.length < 8) {
            document.getElementById('error-password').innerText = 'La contraseña debe tener al menos 8 caracteres.';
            isValid = false;
        }

        // Validar confirmación de contraseña
        if (password !== confirmPassword) {
            document.getElementById('error-confirm-password').innerText = 'Las contraseñas no coinciden.';
            isValid = false;
        }

        return isValid;
    }
</script>

</body>

</html>